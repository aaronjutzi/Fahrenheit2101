<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> &#127746; Weather Forecast </title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
  <link href="style.css" rel="stylesheet">

</head>
<body>


<!-- Nav bars -->
<nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
  <div class="container-fluid">
      <a class="navbar-brand" href="index.html"><img alt ='logo' src="img/rsz_logo_green.png" width="110" height="50"><strong>Ontario</strong> Weather</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse"
      data-target="#navbarResponsive">
          <span class="navbar-toggler-icon"></span>
      </button>
  </div>
      <div class="navbar-collapse collapse"  id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
     <a class="nav-link" href="index.html"><strong> Home </strong></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="method.html"><strong> Methodology </strong></a>
          </li>
    <li class="nav-item">
            <a class="nav-link" href="product.html"><strong> Product </strong></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html"><strong> Contact </strong></a>
          </li>
        </ul>
      </div>
</nav>

<div class="container-sm border ">
    <div class="row welcome text-center">
      <div class="col-12">
    <h2 class="text-center" style="color: brown;">Methodology: How we did it</h2></div>
    <div class="col-12"> <h4 class="text-justify" style="color: rgb(42, 165, 69);">PREPARING THE STUDY AREA </h4></div>
    <h5 style="color: rgb(165, 46, 42);" >Weather Stations:</h5>
    <p class="text-justify">Weather stations within Ontario and within a 50km 
        distance from the borders of Ontario were clipped for inclusion in the study area. 
        The weather stations within 50km outside of the Ontario border were included in the study 
        area to improve interpolation results near the edges of Ontario near Manitoba and Quebec.
         </p>

         <h5 class="text-justify" style="color: rgb(165, 46, 42);">Map tiles: </h5>
         <p class="text-justify"> We created raster files automatically, using python scripts. 
           After discovering that we could not query raster in Leaflet to fulfill our project purpose, 
           we resolved to coverting the raster to GeoJSON files which would then be used to query for temperature and 
           wind speed information in the mapping application.</br>
           Rectangle tiles were created in QGIS using the create grid tool. Setting horizontal and vertical spacing to 0.4 degrees
           ,and the extent was set to –100,0,0,60 (left, right, bottom, top). 
           Point grid tiles were also created, with horizontal and vertical spacing set to 
           0.04 degrees and the extent set to –100.02, 0.02, 0.02, 60.02. 
           The 0.02 was added to the point extents to offset their locations not to overlap the rectangle grids. </br>
           The goal here was to have GeoJSON files for each respective tile, and each of those files would hold the 
           points that fall within the extents of that tile. Each GeoJSON files' name was the extent of the corresponding rectangle tile
           concatenated with a "G" in front. This rectangle points and grids were then spatially joined to have the grid tile name added to 
           the point grid layer, splitting the vector layers in separate GeoJSON files according to grid tile name every hour.
           </p>
    
    <div class="col-12"><h4 class="text-justify" style="color: rgb(42, 165, 69);" > RETRIEVING THE RAW WEATHER DATA </h4></div>
    <p class="text-justify">We created two CSV files holding the latitude, longitude and station codes of weather stations within our
      study area. These files would then be used in the ETL automation script. The script downloads hourly weather station data from 
      from this Government of Canada website: 'https://dd.weather.gc.ca/nowcasting/matrices/' using the python URLLIB module, unzips the 
      downloaded file and converts it to a text file.

    </p>  
  
    <div class="col-12"><h4 class="text-justify" style="color: rgb(42, 165, 69);">WRITING THE WEATHER DATA INTO POSTGRESQL DATABASE AND CSV FILE </h4></div>
    <p class="text-justify">
  
    </p>
    
    
    <div class="col-12"><h4 class="text-justify"> Spatial Analysis, Interpolation Using QGIS and PyQGIS: </h4></div>
    <p class="text-justify">

    </p>
    
    <div class="col-12">
      
        <h4 class="text-justify"> Project Results  </h4></div>
    <p class="text-justify">


    </p>  
  
  </div></div>
  
<!--- Footer -->
<footer>
  <div class="footer fixed-bottom"></div>
  <div class="container-fluid padding">
  <div class="row text-center">
    <div class="col-md-4">
      <img alt ='logo' src="img/rsz_logo_green.png" width="110" height="50">
    </div>
    <div class="col-md-4">
      <img alt ='logo' src="img/arubrum.png" width="110" height="50">
    </div>
    <div class="col-md-4">
      <img src="img/fleminglogo.png" alt= "fleming">
    </div>
    <div class="col-12">
      <hr class="light">
      <h5>&copy; Fahrenheit 2021</h5>
    </div>
  </div>
  </div>
  </footer>

</body>
</html>
